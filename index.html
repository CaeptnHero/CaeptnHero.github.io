<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bib for A-Frame -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    
    <!-- Bib for fly? -->
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.1/dist/aframe-extras.min.js"></script>

    <!-- Bib for Physics -->
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v$npm_package_version/dist/aframe-physics-system.min.js"></script>
   
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>

    <!-- Grabbling + Hands -->
    <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>

    <!-- UI BIB -->
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>

    <!-- Teleport bib-->
    <script src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>
    
    <!-- Animation bib-->
    <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>
    
    <!-- Umgebung bib-->
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    
    <!-- others bib-->
    <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.min.js"></script>
    
    <title>Prototype</title>
  </head>
  <body>
    <a-scene physics="" shadow="type: basic">
      
      <!-- Ground collider-->
      <a-box static-body="" width="100" height="0.01" depth="100" visible="false" material="" geometry="" velocity=""></a-box>
      
      <!-- Player + Camera -->
      <a-entity id="player" position="0 -0.2 4">
        <a-entity id="camera" camera="near: 0.001; far: 1000;"user-height="1.6" position="0 1.7 0" look-controls="pointerLockEnabled: true" rotation="">
        </a-entity>
    <a-entity sphere-collider="objects: a-box, a-cone, a-sphere, a-entity" super-hands hand-controls="hand: left" blink-controls></a-entity>
    <a-entity sphere-collider="objects: a-box, a-cone, a-sphere, a-entity" super-hands hand-controls="hand: right" blink-controls></a-entity>
      </a-entity>

        <a-entity environment ="preset: forest"></a-entity>
        <a-entity teleport-controls="cameraRig: #cameraRig; teleportOrigin: #camera;"></a-entity>

       <!-- Lights -->

        <canvas class="a-canvas a-grab-cursor" data-aframe-canvas="true" width="418" height="927"></canvas>

        <a-entity class="teleportRay" visible=""></a-entity>
        <a-entity class="hitEntity" visible=""></a-entity>
        <a-entity geometry="" rotation="" material=""></a-entity>
        <a-entity position="" geometry="" material=""></a-entity>
        <a-entity position="" rotation="" material="" material="" visible=""></a-entity>
      </a-entity>

     <!-- Asset management system. -->
  <a-assets>   
    <img id="würfel" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/w%C3%BCrfel.png?v=1693917835928">
    <img id="quader" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/quader.png?v=1693917834745">
    <img id="zylinder" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/zylinder.png?v=1694537938963">
    <img id="kreis" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/kreis.png?v=1693917824461">
    <img id="quadrat" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/quadrat.png?v=1693917822470">
    <img id="rechteck" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/rechteck.png?v=1693917823067">
    <img id="dreieck" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/dreieck.png?v=1693917823740">
    <img id="kugel" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/kugel.png?v=1693917832945">
  </a-assets>
    
    <!-- Picture Uploads and Positions -->
    <a-plane position="5 5 -13" width="4" height="3" material="src: #würfel"></a-plane>
    <a-plane position="-8 5 -13" width="4" height="3" material="src: #quader"></a-plane>
    <a-plane position="-11 5 -5" rotation="0 90 0" width="4" height="3" material="src: #zylinder"></a-plane>
    <a-plane position="-11 5 5" rotation="0 90 0" width="4" height="3" material="src: #kreis"></a-plane>
    <a-plane position="-3 5 8" rotation="0 -180 0" width="4" height="3" material="src: #quadrat"></a-plane>
    <a-plane position="8 5 8" rotation="0 -180 0" width="4" height="3" material="src: #rechteck"></a-plane>
    <a-plane position="11 5 2" rotation="0 -90 0" width="4" height="3" material="src: #dreieck"></a-plane>
    <a-plane position="11 5 -9" rotation="0 -90 0" width="4" height="3"material="src: #kugel"></a-plane>

    

      <!-- Sky -->
      <a-sky color="white"></a-sky>

      <!-- Ground -->
      <a-plane
        position="0 -1 -4"
        rotation="-90 0 0"
        width="26"
        height="26"
        color="#B4BCB0"
      ></a-plane>
    

      <!-- Shapes -->
      <!-- grabbable Box -->
      <a-box
      id="Würfel"
        box-properties
        hoverable=""
        grabbable=""
        stretchable=""
        draggable=""
        droppable=""
        class="cube"
        color="green"
        material="color:green"
        position="5 1.4 -13"
        scale="2 2 2"
      ></a-box>
    
    
      <!-- Text-Anzeige für den Würfel -->
  <a-gui-button id="volumeText" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" position="9 6 -13" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="surfaceAreaText" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" position="9 5 -13" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="dimensionsText" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" position="9 4 -13" key-code="32"value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent"
background-color=dodgerblue bevel=false></a-gui-button>
  

  <a-gui-button
  id="Würfeltext"
  width="3"
  height="2"
  base-depth="0.025"
  depth="0.05"
  gap="0.05"
  position="9 1.4 -13"
  key-code="32"
  value="Der Würfel ist ein Körper mit acht Ecken,sechs Flächen und zwölf Kanten. Alle Flächen bestehen aus gleich großen Quadranten"
  font-family="Arial, sans-serif"
  font-size="0.2"
  font-color="white"
  active-color="red"
  hover-color="lightblue"
  border-color="transparent"
  focus-color="transparent"
  background-color="dodgerblue"
  bevel="false">
</a-gui-button>

  
      

    
    <a-box id="Quader" box-properties hoverable grabbable stretchable draggable droppable class="grabbable" color="pink" position="-8 1.4 -13" scale="4 2 2"></a-box>
    
<a-gui-button id="volumeQuader" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" position="-2.8 6 -13" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="surfaceQuader" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" position="-2.8 5 -13" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="dimensionsQuader" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" position="-2.8 4 -13" key-code="32"value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent"
background-color=dodgerblue bevel=false></a-gui-button>
    
      <a-gui-button
      id="QuaderText"
      width="3"
      height="2"
      base-depth="0.025"
      depth="0.05"
      gap="0.05"
      position="-2.8 1.4 -13"
      value="Ein Quader ist ein räumlicher Körper, dass aus sechs Rechtecken besteht.
             Jeweils zwei Rechtecke liegen sich gegenüber und sind parallel zueinander"
      font-family="Arial, sans-serif"
      font-size="0.2"
      font-color="white"
      active-color="red"
      hover-color="lightblue"
      border-color="transparent"
      focus-color="transparent"
      background-color="dodgerblue">
      </a-gui-button>

  
    
   <a-sphere
    id="Kugel"
    hoverable
    grabbable
    stretchable
    draggable
    droppable
    class="grabbable"          
    color="yellow" 
    radius="1" 
    position="11 1.4 -9"
    scale="1 1 1"  
    ></a-sphere>
    
<a-gui-button id="volumeKugel" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" rotation="0 -90 0" position="11 6 -5" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="surfaceKugel" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" rotation="0 -90 0" position="11 5 -5" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="radiusKugel" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" rotation="0 -90 0" position="11 4 -5" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>


    <a-gui-button
      id="KugelText"
  width="3"
  height="2"
  base-depth="0.025"
  depth="0.05"
  gap="0.05"
  position="11 1.4 -5"
  rotation="0 -90 0"
  value="Die Kugel hat keine Ecken, keine Kanten und nur eine Fläche"
  font-family="Arial, sans-serif"
  font-size="0.2"
  font-color="white"
  active-color="red"
  hover-color="lightblue"
  border-color="transparent"
  focus-color="transparent"
  background-color="dodgerblue">
</a-gui-button>
    
    <a-entity
    id="Zylinder"
    cylinder-properties          
    hoverable
    grabbable
    stretchable
    draggable
    droppable
    class="grabbable"
    color="purple"        
     geometry="primitive: cylinder; height: 2; radius: 0.5"
    position="-11 1.4 -5">
    </a-entity>
    
    <a-gui-button id="volumeText" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" rotation="0 -90 0" position="-11 6 -9" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent"
background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="surfaceAreaText" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" rotation="0 -90 0" position="-11 5 -9" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>
<a-gui-button id="dimensionsText" width="2" height="2" base-depth="0.025" depth="0.1" gap="0.1" rotation="0 -90 0" position="-11 4 -9" key-code="32" value="" font-family="Arial, sans-serif" font-size="0.2" font-color="white" active-color="red" hover-color="lightblue" border-color="transparent" focus-color="transparent" background-color="dodgerblue" bevel="false"></a-gui-button>

      

    <a-gui-button
    id="ZylinderText"
width="3"
height="2"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="-11 1.4 -9"
rotation="0 90 0"
value="Hier kommt der Infotext zu Zylinder hin"
font-family="Arial, sans-serif"
font-size="0.2"
font-color="white"
active-color="red"
hover-color="lightblue"
border-color="transparent"
focus-color="transparent"
background-color="dodgerblue">
</a-gui-button>
    

      

<!-- Flächen -->

<a-entity
  id="Kreis"
  hoverable
    grabbable
    stretchable
    draggable
    droppable
    class="grabbable"        
  geometry="primitive: circle; radius: 1; segmentsRadial: 100; segmentsTheta: 200"
  material="color: blue; shader: flat"
  position="-11 1.4 5"
  rotation="0 90 0">
  </a-entity>

  <a-gui-button
    id="KreisText"
width="3"
height="2.3"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="-11 1.4 2"
rotation="0 90 0"
value="Der Kreis ist eine ebene Figur. Sie hat keine Ecken und unendlich
       viele Seiten (Kreislinie) und eine Fläche. Alle Punkte die durch den
       Mittelpunkt zur anderen Seite gehen sind gleich lang (Durchmesser)"
font-family="Arial, sans-serif"
font-size="0.2"
font-color="white"
active-color="red"
hover-color="lightblue"
border-color="transparent"
focus-color="transparent"
background-color="dodgerblue">
</a-gui-button>

      <a-triangle
        id="Dreieck"
                  hoverable
    grabbable
    stretchable
    draggable
    droppable
    class="grabbable"
        material="color: red"
        vertex-a="-1 0 0"
        vertex-b="1 0 0"
        vertex-c="0 2 0"
        rotation="0 -90 0"
        position="11 0.5 2"
      ></a-triangle>

      <a-gui-button
    id="DreieckText"
width="3"
height="2"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="11 1.4 5"
rotation="0 -90 0"
value="Ein Dreieck ist eine ebene Figur. Sie besteht aus drei Strecken,
       von denen je zwei Seiten einen gemeinsamen Eckpunkt haben"
font-family="Arial, sans-serif"
font-size="0.2"
font-color="white"
active-color="red"
hover-color="lightblue"
border-color="transparent"
focus-color="transparent"
background-color="dodgerblue">
</a-gui-button>

      <a-plane
        id="Quadrat"
               hoverable
    grabbable
    stretchable
    draggable
    droppable
    class="grabbable"
        material="color: grey"
        position="-3 1.4 8"
        width="2"
        height="2"
        rotation="0 180 0"
      ></a-plane>


      <a-gui-button
    id="QuadratText"
width="3"
height="2"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="-7 1.4 8"
rotation="0 180 0"
value="Alle Seiten sind gleich lang und parallel. Zudem sind die Nachbarseiten
       immer senkrecht zueinander und die Figur hat vier rechte Winkel"
font-family="Arial, sans-serif"
font-size="0.2"
font-color="white"
active-color="red"
hover-color="lightblue"
border-color="transparent"
focus-color="transparent"
background-color="dodgerblue">
</a-gui-button>

      <a-plane
        id="Rechteck"
               hoverable
    grabbable
    stretchable
    draggable
    droppable
    class="grabbable"
        material="color: lightgreen"
        position="8 1.4 8"
        width="3"
        height="2"
        rotation="0 180 0"
      ></a-plane>

      <a-gui-button
    id="RechteckText"
width="3"
height="2"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="4 1.4 8"
rotation="0 180 0"
value="Gegenüber liegende Seiten sind gleich lang und parallel.
       Jeweils zwei Kanten sind unterschiedlich lang"
font-family="Arial, sans-serif"
font-size="0.2"
font-color="white"
active-color="red"
hover-color="lightblue"
border-color="transparent"
focus-color="transparent"
background-color="dodgerblue">
</a-gui-button>

<!-- Text -->
    
     <a-gui-button
    id="Wilkommen"
width="5"
height="10"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="-1.3 15 -13"
rotation="20 0 0"
value="
       Diese Umgebung ist dazu da, um mathematisch geometrische Figuren
       besser kennen zu lernen. 
       
       Hier einmal eine Anleitung/Legende:
       bei den ebenen Figuren, wird die Fläche als A und der Umfang
       als U gekennzeichnet.
       
       Und bei den Körpern wird es wie folgt aussehen: 
       Volumen = V
       Oberfläche = O
       Grundfläche = G
       Mantelfläche = M"
font-family="Arial, sans-serif"
font-size="0.4"
font-color="white"
border-color="transparent"
focus-color="transparent"
background-color="dodgerblue">
</a-gui-button>
    
<script>
 AFRAME.registerComponent('box-properties', {
  init: function () {
    // Referenzen zu den Text-Elementen auf dem Interface für den Würfel
    this.volumeText = document.querySelector('#volumeText');
    this.surfaceAreaText = document.querySelector('#surfaceAreaText');
    this.dimensionsText = document.querySelector('#dimensionsText');
    
    // Referenzen zu den Text-Elementen auf dem Interface für den Quader
    this.volumeQuader = document.querySelector('#volumeQuader');
    this.surfaceQuader = document.querySelector('#surfaceQuader');
    this.dimensionsQuader = document.querySelector('#dimensionsQuader');

    // Referenzen zu den Text-Elementen auf dem Interface für die Kugel
    this.volumeKugel = document.querySelector('#volumeKugel');
    this.surfaceKugel = document.querySelector('#surfaceKugel');
    
    // Initialisieren Sie das vorherige Volumen auf null
    this.previousVolume = null;
  },

  update: function () {
    // Rufen Sie die Methode zum Aktualisieren der Maße auf
    this.updateDimensions();
  },

  tick: function () {
    // Holen Sie sich die aktuellen Maße der Box (oder Kugel)
    var scale = this.el.object3D.scale;

    // Berechnen Sie das Volumen (für Box oder Kugel)
    var volume = scale.x * scale.y * scale.z;

    // Berechnen Sie die Oberfläche für den Würfel
    var surfaceAreaCube = 6 * (scale.x * scale.x);

    // Berechnen Sie die Oberfläche für den Quader
    var surfaceAreaQuader = 2 * (scale.x * scale.y + scale.x * scale.z + scale.y * scale.z);

    // Berechnen Sie das Volumen für die Kugel
    var radius = scale.x; // Der Radius der Kugel ist die Hälfte der Skalierung (Annahme: gleichmäßige Skalierung)
    var volumeKugel = (4/3) * Math.PI * Math.pow(radius, 3);

    // Berechnen Sie die Oberfläche für die Kugel
    var surfaceAreaKugel = 4 * Math.PI * Math.pow(radius, 2);

    // Überprüfen Sie, ob sich das Volumen geändert hat
    if (volume !== this.previousVolume) {
      // Aktualisieren Sie die Text-Elemente auf dem Interface für den Würfel
      this.volumeText.setAttribute('value', 'Volumen Würfel: ' + volume.toFixed(2));
      this.surfaceAreaText.setAttribute('value', 'Oberfläche Würfel: ' + surfaceAreaCube.toFixed(2));
      this.dimensionsText.setAttribute('value', 'Maße Würfel: ' + scale.x.toFixed(2) + ' x ' + scale.y.toFixed(2) + ' x ' + scale.z.toFixed(2));

      // Aktualisieren Sie die Text-Elemente auf dem Interface für den Quader
      this.volumeQuader.setAttribute('value', 'Volumen Quader: ' + volume.toFixed(2));
      this.surfaceQuader.setAttribute('value', 'Oberfläche Quader: ' + surfaceAreaQuader.toFixed(2));
      this.dimensionsQuader.setAttribute('value', 'Maße Quader: ' + scale.x.toFixed(2) + ' x ' + scale.y.toFixed(2) + ' x ' + scale.z.toFixed(2));

      // Aktualisieren Sie die Text-Elemente auf dem Interface für die Kugel
      this.volumeKugel.setAttribute('value', 'Volumen Kugel: ' + volumeKugel.toFixed(2));
      this.surfaceKugel.setAttribute('value', 'Oberfläche Kugel: ' + surfaceAreaKugel.toFixed(2));

      // Aktualisieren Sie das vorherige Volumen
      this.previousVolume = volume;
    }
  },

  // Methode zum Aktualisieren der Maße, die von außen aufgerufen werden kann
  updateDimensions: function () {
    // Holen Sie sich die aktuellen Maße der Kugel
    var scale = this.el.object3D.scale;

    // Berechnen Sie den Radius der Kugel
    var radius = scale.x; // Der Radius der Kugel ist die Hälfte der Skalierung (Annahme: gleichmäßige Skalierung)

    // Berechnen Sie das Volumen für die Kugel
    var volumeKugel = (4/3) * Math.PI * Math.pow(radius, 3);

    // Berechnen Sie die Oberfläche für die Kugel
    var surfaceAreaKugel = 4 * Math.PI * Math.pow(radius, 2);

    // Aktualisieren Sie die Text-Elemente auf dem Interface für die Kugel
    this.volumeKugel.setAttribute('value', 'Volumen Kugel: ' + volumeKugel.toFixed(2));
    this.surfaceKugel.setAttribute('value', 'Oberfläche Kugel: ' + surfaceAreaKugel.toFixed(2));
  }
});



  </script>
        </a-scene> 
  
  
      </body>
      </html>