<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Bib for A-Frame -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    
    <!-- Bib for fly? -->
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.1/dist/aframe-extras.min.js"></script>
 
   
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>

    <!-- Grabbling + Hands -->
    <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>

    <!-- UI BIB -->
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>

    <!-- Teleport bib-->
    <script src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>
    
    <!-- Animation bib-->
    <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>
    
    <!-- Umgebung bib-->
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    
    <!-- others bib-->
    <script src="https://unpkg.com/aframe-event-set-component@^4.1.1/dist/aframe-event-set-component.min.js"></script>
    
    <title>Prototype</title>
  </head>
  <body>
    <a-scene>
      
      <!-- Ground collider-->
      
      <a-box 
          static-body="" 
          width="100" 
          height="0.01" 
          depth="100" 
          visible="false" 
          material="" 
          geometry="" 
          velocity="">
      </a-box>
      
      <!-- Player + Camera -->
      <a-entity 
          id="player" 
          position="0 -0.2 4">
        
        <a-entity 
              id="camera" 
              camera="near: 0.001; far: 1000;"
              user-height="10" 
              position="0 5 -3" 
              look-controls="pointerLockEnabled: true" 
              rotation="">
        </a-entity>
        
    <a-entity 
      sphere-collider="objects: a-box" 
      super-hands         
      hand-controls="hand: left"         
      blink-controls>                
    </a-entity>
        
    <a-entity
        sphere-collider="objects: a-box" 
        super-hands 
        hand-controls="hand: right" 
        blink-controls>
    </a-entity>
      </a-entity>

        <a-entity teleport-controls="cameraRig: #cameraRig; teleportOrigin: #camera;"></a-entity>

        <a-entity 
         class="teleportRay" 
         visible="">
        </a-entity>

        <a-entity 
         class="hitEntity" 
         visible="">
        </a-entity>

        <a-entity 
         geometry="" 
         rotation="" 
         material="">
        </a-entity>

        <a-entity 
         position="" 
         geometry="" 
         material="">
        </a-entity>

        <a-entity 
         position="" 
         rotation="" 
         material="" 
         visible="">
        </a-entity>

     <!-- Asset management system. -->
  <a-assets>
    
    <img id="ceiling" src="https://cdn.glitch.global/97897bf1-6cf1-471b-b8a0-512886126d60/ceillan.jpg?v=1695835540282">
    
    <img id= "floor" src="https://cdn.glitch.global/97897bf1-6cf1-471b-b8a0-512886126d60/oak.jpg?v=1695834927938">
    
    <img id= "wall" src= "https://cdn.glitch.global/97897bf1-6cf1-471b-b8a0-512886126d60/wall.jpg?v=1695836362946">
    
    <img id= "clock" src= "https://cdn.glitch.global/97897bf1-6cf1-471b-b8a0-512886126d60/clock.png?v=1695843285308">
    
    <img id= "controlls" src="https://cdn.glitch.global/25bd50e3-9284-43ef-b1d5-3c65b31eb109/Controllers.png?v=1696769010314">
        
    <a-asset-item id="table" src="https://cdn.glitch.me/97897bf1-6cf1-471b-b8a0-512886126d60/diningtable.gltf?v=1695883691555"></a-asset-item>


    
    <img 
    id="würfel" 
    src="https://cdn.glitch.global/97897bf1-6cf1-471b-b8a0-512886126d60/w%C3%BCrfel.png?v=1695667049248">

    <img 
     id="quader" 
     src="https://cdn.glitch.global/97897bf1-6cf1-471b-b8a0-512886126d60/quader.png?v=1695667048713">
  </a-assets>
    
    <!-- Picture Uploads and Positions -->
    <a-plane 
     position="8 5 -8" 
     rotation="0 -90 0" 
     width="4" 
     height="3" 
     material="src: #würfel">
    </a-plane>

    <a-plane 
     position="-8 5 -8" 
     rotation="0 90 0" 
     width="4" 
     height="3" 
     material="src: #quader">
    </a-plane>
      
      <!-- Clock -->
      
      <a-plane
        position="0 6.5 -13.9"
        scale="1.5 1.5 1.5"
        rotation="0 0 0"
        src="#clock"
        repeat = ""
        material="src: #clock; color: #FFFFFF"
      ></a-plane>
      
      <!-- Controller -->
 
      <a-plane
        position="6 3 -11.6"
        scale="3 3 3"
        rotation="0 -10 0"
        src="#controlls"
        repeat = ""
        material="src: #controlls; color: #FFFFFF"
      ></a-plane>

      <!-- Sky -->
      <a-sky color="white"></a-sky>

      <!-- Ground + Walls -->
      <a-plane
  position="0 -1 -4"
  rotation="-90 0 0"
  scale="26 26 1"
  src="#floor"
  repeat = "5 5"
  material="src: #floor; color: #FFFFFF"
></a-plane>

    
    <!--ceiling -->
    
     <a-plane
        position="0 8 -4"
        rotation="90 0 0"
        scale="26 26 1"
        src="#ceiling"
        repeat = "5 5"
        material="src: #ceiling; color: #FFFFFF"
      ></a-plane>
    
        <!--Wall left -->

    <a-plane
        position="-10 5 -4"
        rotation="0 90 0"
        width="26"
        height="26"
        src="#wall"
  repeat = "5 5"
  material="src: #wall; color: #FFFFFF"
      ></a-plane>
    
       <!--Wall right -->

    <a-plane
        position="10 5 -4"
        rotation="0 -90 0"
        width="26"
        height="26"
        src="#wall"
  repeat = "5 5"
  material="src: #wall; color: #FFFFFF"
      ></a-plane>
    
    <!--Wall front -->

    <a-plane
        position="0 5 -14"
        rotation="0 0 0"
        width="30"
        height="30"
        src="#wall"
  repeat = "5 5"
  material="src: #wall; color: #FFFFFF"
      ></a-plane>
    
    <!--Wall back-->

    <a-plane
        position="0 9 9"
        rotation="0 180 0"
        width="30"
        height="30"
        src="#wall"
  repeat = "5 5"
  material="src: #wall; color: #FFFFFF"
      ></a-plane>
      
      
       <!-- Lights -->
      
      <a-box
  id="Light1f"
  color= "white"
  scale="2 0.12 0.12"
  position="-2 7 -3"
  rotation="0 180 0"
    ></a-box>
      
      <a-box
  id="Light2f"
  color= "white"
  scale="2 0.12 0.12"
  position="2 7 -3"
  rotation="0 180 0"
    ></a-box>
      
      <a-box
  id="Light1h"
  color= "white"
  scale="2 0.12 0.12"
  position="-2 7 2"
  rotation="0 180 0"
    ></a-box>
      
      <a-box
  id="Light2h"
  color= "white"
  scale="2 0.12 0.12"
  position="2 7 2"
  rotation="0 180 0"
    ></a-box>
      
      
             <!-- Tables -->

      
    <a-entity 
        id ="tablefrontright"
        gltf-model="#table" 
        position="4 -1.5 -7" 
        scale="0.15 0.15 0.15">
    </a-entity>
      
      
      <a-entity 
        id ="tablefrontleft"
        gltf-model="#table" 
        position="-4 -1.5 -7" 
        scale="0.15 0.15 0.15">
    </a-entity>
      
      
      <a-entity 
        id ="tablebackright"
        gltf-model="#table" 
        position="4 -1.5 3" 
        scale="0.15 0.15 0.15">
    </a-entity>
      
      <a-entity 
        id ="tablebackleft"
        gltf-model="#table" 
        position="-4 -1.5 3" 
        scale="0.15 0.15 0.15">
    </a-entity>

      
      
            <!-- Tasks-->

      
       <a-gui-button
  id="AufgabentextQuader"
  width="3"
  height="5.5"
  base-depth="0.025"
  depth="0.05"
  gap="0.05"
  position="-8 4 4"
  rotation="0 90 0"
  key-code="32"
  value="Berechnen Sie das das Volumen eines Quaders mit den Abmessungen 7 cm (Länge), 3 cm
(Breite) und 2 cm (Höhe).
         
         Wenn die Abmessungen eines anderen Quaders 9 cm, 4 cm und 1 cm betragen, wie groß ist
sein Volumen?
         
         Berechnen Sie die Oberfläche eines Quaders mit den Abmessungen 5 cm (Länge),
4 cm (Breite) und 3 cm(Höhe).
         
Wenn Sie die Länge und Breite eines Quaders verdoppeln, wie verändert sich sein Volumen?."
  font-family="Arial, sans-serif"
  font-size="0.2"
  font-color="black"
  background-color="white"
  border-color="black"
  bevel="false">
</a-gui-button>
      
         <a-gui-button
  id="AufgabentextWürfel"
  width="3"
  height="5.5"
  base-depth="0.025"
  depth="0.05"
  gap="0.05"
  position="8 4 4"
  rotation="0 -90 0"
  key-code="32"
  value="1. Berechnen Sie das Volumen eines Würfels mit einer Kantenlänge von 1.5 m.
         
         2. Wenn die Kantenlänge eines Würfels 2.5 m beträgt, wie groß ist sein Volumen?
         
         3. Berechnen Sie die Oberfläche eines Würfels mit einer Kantenlänge von 0.5 m.
         
         4. Wie groß ist die Oberfläche eines Würfels mit einer Kantenlänge von 2 m?"
         
  font-family="Arial, sans-serif"
  font-size="0.2"
  font-color="black"
  background-color="white"
  border-color="black"
  bevel="false">
</a-gui-button>
      
          <!-- Traffic Light -->

      
 <a-gui-button
 id="trafficquader" 
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="-8 5.5 1"
 rotation="0 90 0"  
 key-code="32" 
 value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black" 
 border-color="black"   
 background-color="white" 
 bevel="false">
</a-gui-button>

      
      <a-gui-button
 id="trafficcube" 
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="8 3.5 0.5"
 rotation="0 -90 0"  
 key-code="32" 
 value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black" 
 border-color="black"   
 background-color="white" 
 bevel="false">
</a-gui-button>
        
     
      <!-- Shapes -->
      <!-- grabbable Box -->
      <a-box
      id="Würfel"
             
        box-properties
        grabbable=""
        stretchable=""
        color="#935D69"
        position="7 1.4 -3"
        rotation="0 -90 0"
        scale="1 1 1"
      ></a-box>
    
    
      <!-- Text-Anzeige für den Würfel -->
<a-gui-button
 id="volumeText" 
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="8 5 -3" 
 rotation="0 -90 0"  
 key-code="32" 
 value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black" 
 border-color="black"   
 background-color="white" 
 bevel="false">
</a-gui-button>

<a-gui-button
 id="surfaceAreaText"
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="8 4 -3" 
 rotation="0 -90 0"  
 key-code="32" 
 value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black" 
 border-color="black"   
 background-color="white" 
 bevel="false">
</a-gui-button>


<a-gui-button 
 id="dimensionsText" 
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="8 3 -3" 
 rotation="0 -90 0" 
 key-code="32" 
 value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black"  
 border-color="black" 
 background-color="white" 
 bevel="false">
</a-gui-button>
  

  <a-gui-button
  id="Würfeltext"
  width="3"
  height="2"
  base-depth="0.025"
  depth="0.05"
  gap="0.05"
  position="8 1.4 -8"
  rotation="0 -90 0"
  key-code="32"
  value="Der Würfel ist ein Körper mit acht Ecken,sechs Flächen und zwölf Kanten. Alle Flächen bestehen aus gleich großen Quadranten"
  font-family="Arial, sans-serif"
  font-size="0.2"
  font-color="black"
  background-color="white"
  border-color="black"
  bevel="false">
</a-gui-button>


    
<a-box 
 id="Quader" 
 rotation="0 90 0" 
 box-properties2 
 hoverable 
 grabbable 
 stretchable 
 draggable 
 droppable 
 class="grabbable"
 color="#295FA8" 
 position="-8 1.4 -3" 
 scale="3 2 1">
</a-box>
    
<a-gui-button id="volumeQuader"
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="-8 6 -3" 
 rotation="0 90 0" 
 key-code="32" value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black" 
 active-color="red"  
 border-color="black"  
 background-color="white" 
 bevel="false">
</a-gui-button>

<a-gui-button
 id="surfaceQuader" 
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="-8 5 -3" 
 rotation="0 90 0" 
 key-code="32" 
 value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black" 
 active-color="red"  
 border-color="black"  
 background-color="white" 
 bevel="false">
</a-gui-button>

<a-gui-button
 id="dimensionsQuader" 
 width="2" 
 height="2" 
 base-depth="0.025" 
 depth="0.1" 
 gap="0.1" 
 position="-8 4 -3" 
 rotation="0 90 0" 
 key-code="32"
 value="" 
 font-family="Arial, sans-serif" 
 font-size="0.2" 
 font-color="black" 
 active-color="red"  
 border-color="black" 
 background-color=white 
 bevel=false>
</a-gui-button>
    
      <a-gui-button
      id="QuaderText"
      width="3"
      height="2"
      base-depth="0.025"
      depth="0.05"
      gap="0.05"
      position="-8 1.4 -8"
      rotation="0 90 0"              
      value="Ein Quader ist ein räumlicher Körper, dass aus sechs Rechtecken besteht.
             Jeweils zwei Rechtecke liegen sich gegenüber und sind parallel zueinander"
      font-family="Arial, sans-serif"
      font-size="0.2"
      font-color="black"
      active-color="red"
      border-color="black"
      background-color="white"
      radius="1" >
      </a-gui-button>

  
    


<!-- Text -->
    
     <a-gui-button
    id="Wilkommen"
width="8"
height="4"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="0 3 -12"
rotation="0 0 0"
value="
       Diese Umgebung ist dazu da, um mathematisch
       geometrische Figuren
       besser kennen zu lernen.
       
       Viel Spaß und Erfolg!"
font-family="Arial, sans-serif"
font-size="0.3"
font-color="white"
background-color="#006400"
                   border-color= "grey"
               radius="1">
</a-gui-button>
      
      
      
<!-- Left Table -->
    
     <a-gui-button
    id="Left"
width="4"
height="4"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="-6 3 -11.7"
rotation="0 10 0"
value=" 
       Legende: 
       Volumen = V
       Oberfläche = O
       Kante = a oder b oder c
       "
font-family="Arial, sans-serif"
font-size="0.2"
font-color="white"
background-color="#006400"
                   border-color= "grey"
               radius="1">
</a-gui-button>
      
      <!-- RightTable -->
    
     <a-gui-button
    id="Right"
width="4"
height="4"
base-depth="0.025"
depth="0.05"
gap="0.05"
position="6 3 -11.7"
rotation="0 -10 0"
value=""
       
font-family="Arial, sans-serif"
font-size="0.2"
font-color="white"
background-color="#006400"
border-color= "grey"
               radius="1">
</a-gui-button>
      
      
      
      
      
    
<script>
 // Komponente für die Berechnung und Anzeige der Eigenschaften des Würfels und Quaders
AFRAME.registerComponent('box-properties', {
  init: function () {
    // Verweis auf den GUI
    this.guiButton = document.querySelector('#trafficcube');
    
    // Referenzen zu den Text-Elementen auf dem Interface für den Würfel
    this.volumeText = document.querySelector('#volumeText');
    this.surfaceAreaText = document.querySelector('#surfaceAreaText');
    this.dimensionsText = document.querySelector('#dimensionsText');
  
    // Initialisieren Sie das vorherige Volumen auf null
    this.previousVolume = null;
  },

  tick: function () {
    // Holt sich die aktuellen Maße der Entität (Würfel oder Quader)
    var scale = this.el.object3D.scale;

    // Berechnet das Volumen für die Entität (Würfel oder Quader)
    var volume = scale.x * scale.y * scale.z;

    // Berechnet die Oberfläche für den Würfel
    var surfaceAreaCube = 6 * (scale.x * scale.x);

    // Überprüfung ob sich das Volumen geändert hat
    if (volume !== this.previousVolume) {
      // Aktualisieren Sie die Text-Elemente auf dem Interface für den Würfel
      this.volumeText.setAttribute('value', 'Volumen Würfel: ' + volume.toFixed(2));
      this.surfaceAreaText.setAttribute('value', 'Oberfläche Würfel: ' + surfaceAreaCube.toFixed(2));
      this.dimensionsText.setAttribute('value', 'Kantenlängen Würfel: ' + scale.x.toFixed(2) + ' x ' + scale.y.toFixed(2) + ' x ' + scale.z.toFixed(2));
      
      // Überprüfung ob das Volumen im gewünschten Bereich liegt
      if (((volume >= 3.1 && volume <= 3.38) || (volume >= 3.40 && volume <= 3.6)) || ((volume >= 14 && volume <= 15.55) || (volume >= 15.57 && volume <= 17))){        // Ändern Sie die Farbe des Verkehrslichts auf Gelb und ändern Sie die Nachricht
        this.guiButton.setAttribute('background-color', 'yellow');
        this.guiButton.setAttribute('value', 'Nah dran, fast geschafft!');
      } else if (volume === 1) {
        // Ändert die Farbe des Verkehrslichts auf Weiß und ändert  die Nachricht
        this.guiButton.setAttribute('background-color', 'white');
        this.guiButton.setAttribute('value', 'Viel Erfolg!');
      } else if (volume === 3.375 || volume === 15.625 || volume === 1.49 || volume === 24) {
        // Ändertdie Farbe des Verkehrslichts auf Grün und ändert die Nachricht
        this.guiButton.setAttribute('background-color', 'green');
        this.guiButton.setAttribute('value', 'Glückwunsch, das ist richtig!');
      } else {
        // Ändertdie Farbe des Verkehrslichts auf Rot und ändert die Nachricht
        this.guiButton.setAttribute('background-color', 'red');
        this.guiButton.setAttribute('value', 'Probiere es weiter :)');
      }   

      // Aktualisiert das vorherige Volumen
      this.previousVolume = volume;
    }
  }
});

  
  AFRAME.registerComponent('box-properties2', {
  init: function () {
    
     // Referenz zum Verkehrslicht
    this.trafficLight = document.querySelector('#trafficquader');

    // Referenzen zu den Text-Elementen auf dem Interface für den Quader
    this.volumeQuader = document.querySelector('#volumeQuader');
    this.surfaceQuader = document.querySelector('#surfaceQuader');
    this.dimensionsQuader = document.querySelector('#dimensionsQuader');

    // Initialisiert das vorherige Volumen auf null
    this.previousVolume = null;
  },

  tick: function () {
    //  aktuellen Maße der Entität (Würfel oder Quader)
    var scale = this.el.object3D.scale;

    // Berechnet das Volumen für die Entität (Würfel oder Quader)
    var volume = scale.x * scale.y * scale.z;


    // Berechnet die Oberfläche für den Quader
    var surfaceAreaQuader = 2 * (scale.x * scale.y + scale.x * scale.z + scale.y * scale.z);

    // Überprüfung, ob sich das Volumen geändert hat
    if (volume !== this.previousVolume) {

      // Aktualisiert die Text-Elemente auf dem Interface für den Quader
      this.volumeQuader.setAttribute('value', 'Volumen Quader: ' + volume.toFixed(2));
      this.surfaceQuader.setAttribute('value', 'Oberfläche Quader: ' + surfaceAreaQuader.toFixed(2));
      this.dimensionsQuader.setAttribute('value', 'Maße Quader: ' + scale.x.toFixed(2) + ' x ' + scale.y.toFixed(2) + ' x ' + scale.z.toFixed(2));
  
     // Überprüfung, ob das Volumen 16 ist
      if (volume === 16) {
        // Ändert die Farbe des Verkehrslichts auf Weiß und ändert die Nachricht
        this.trafficLight.setAttribute('background-color', 'white');
        this.trafficLight.setAttribute('value', 'Viel Erfolg!');
      } else if (volume >= 7 && volume <= 15) { // Anpassung des Bereichs von 7 bis 15
        // Ändert die Farbe des Verkehrslichts auf Grün und ändert die Nachricht
        this.trafficLight.setAttribute('background-color', 'green');
        this.trafficLight.setAttribute('value', 'Glückwunsch, das ist richtig!');
      } else {
        // Ändert die Farbe des Verkehrslichts auf Rot und ändert die Nachricht
        this.trafficLight.setAttribute('background-color', 'red');
        this.trafficLight.setAttribute('value', 'Probiere es weiter :)');
      }               
      
      // Aktualisiert das vorherige Volumen
      this.previousVolume = volume;
    }
  }
});
  



  </script>
        </a-scene> 
  
      </body>
      </html>